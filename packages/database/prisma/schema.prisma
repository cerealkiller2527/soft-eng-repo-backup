// This is your Prisma schema file, learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider   = "prisma-client-js"
  output     = "../.prisma/client"
  engineType = "binary"
}

datasource db {
  provider = "postgresql"
  url      = env("POSTGRES_URL")
}

// Example table used in the express router example
enum Status {
  NOTASSIGNED
  ASSIGNED
  INPROGRESS
  COMPLETED
}

enum RequestType {
  AUDIOVISUAL
  EXTERNALTRANSPORTATION
  EQUIPMENTDELIVERY
  LANGUAGE
  SECURITY
}

model Employee {
  id             Int              @id @default(autoincrement())
  name           String
  employeeType   String
  canService     RequestType[]
  ServiceRequest ServiceRequest[]
}

model ServiceRequest {
  id          Int         @id
  type        RequestType
  dateCreated DateTime    @default(now())
  dateUpdated DateTime?
  status      Status
  description String
  priority    Int         @unique
  employeeID  Int
  assignedTo  Employee    @relation(fields: [employeeID], references: [id])
}

model Score {
  id    Int      @id @default(autoincrement())
  time  DateTime
  score Int
}
